<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Descobrir Investimentos de VCs</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <div class="brand">
        <!-- simples logo SVG -->
        <svg class="logo" viewBox="0 0 48 48" width="40" height="40" aria-hidden="true">
          <rect rx="8" width="48" height="48" fill="#0f62fe"/>
          <path d="M12 34L20 14L28 34Z" fill="white"/>
        </svg>
        <div class="title-block">
          <h1>Descobrir Investimentos de VCs</h1>
          <p class="subtitle">Pesquise startups investidas por VCs, visualize resultados em cards e salve os favoritos.</p>
        </div>
      </div>

      <nav class="header-actions">
        <button id="btnHistorico" class="btn transparent">Histórico</button>
        <button id="btnExportCsv" class="btn ghost">Exportar CSV</button>
        <button id="btnPrint" class="btn ghost">Imprimir / PDF</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="search-panel card">
      <form id="searchForm" class="search-form" autocomplete="off">
        <div class="search-input-wrap">
          <input id="vc_input" name="vc_input" type="text" placeholder="Ex: Sequoia Capital, SoftBank, Kaszek" />
          <button id="btnPesquisar" class="btn primary" type="submit">Pesquisar</button>
        </div>
        <div class="suggestions" id="suggestions"></div>
        <div class="filters">
          <div class="filter-item">
            <label>Ano fundação</label>
            <div class="row">
              <input id="filter_year_from" type="number" placeholder="Desde (ex: 2010)" />
              <input id="filter_year_to" type="number" placeholder="Até (ex: 2024)" />
            </div>
          </div>
          <div class="filter-item">
            <label>Setor</label>
            <input id="filter_sector" type="text" placeholder="Ex: fintech, health, SaaS" />
          </div>
          <div class="filter-item">
            <label>Valor investimento (mín - máx)</label>
            <div class="row">
              <input id="filter_min_value" type="text" placeholder="ex: 100k" />
              <input id="filter_max_value" type="text" placeholder="ex: 10M" />
            </div>
          </div>
          <div class="filter-actions">
            <button id="btnClearFilters" class="btn transparent" type="button">Limpar filtros</button>
          </div>
        </div>
      </form>

      <div class="examples">
        <strong>Sugestões:</strong>
        <div class="chips">
          <button class="chip">Sequoia Capital</button>
          <button class="chip">SoftBank</button>
          <button class="chip">a16z</button>
          <button class="chip">Kaszek</button>
          <button class="chip">Monashees</button>
        </div>
      </div>
    </section>

    <section class="right-panel">
      <div class="stats card" id="statsPanel">
        <div class="stat-item">
          <div class="stat-title">Startups</div>
          <div id="statTotalStartups" class="stat-value">—</div>
        </div>
        <div class="stat-item">
          <div class="stat-title">Total Investido</div>
          <div id="statTotalValue" class="stat-value">—</div>
        </div>
        <div class="stat-item">
          <div class="stat-title">VCs consultados</div>
          <div id="statTotalVCs" class="stat-value">—</div>
        </div>
      </div>

      <div class="chart card">
        <h3>Distribuição por setor</h3>
        <canvas id="sectorChart" width="400" height="180"></canvas>
      </div>
    </section>
  </main>

  <section class="results-wrapper container">
    <div class="results-header">
      <h2>Resultados</h2>
      <div class="results-actions">
        <label class="toggle-raw"><input id="toggleRaw" type="checkbox"> Mostrar JSON bruto</label>
      </div>
    </div>

    <div id="results" class="results-grid"></div>

    <div id="emptyState" class="empty-state">
      <p>Ainda não há resultados. Faça uma busca por VCs para começar.</p>
    </div>
  </section>

  <!-- Bottom bar with compare/save actions -->
  <div class="bottom-bar">
    <div>
      <span id="selectedCount">0</span> selecionado(s)
    </div>
    <div class="bottom-actions">
      <button id="btnCompare" class="btn ghost" disabled>Comparar</button>
      <button id="btnSaveSelected" class="btn primary" disabled>Salvar selecionados</button>
      <button id="btnClearSaved" class="btn transparent">Limpar salvos</button>
    </div>
  </div>

  <!-- Compare Modal -->
  <div id="compareModal" class="modal hidden">
    <div class="modal-content">
      <button class="close" id="closeCompare">✕</button>
      <h3>Comparar startups</h3>
      <div id="compareArea" class="compare-area"></div>
    </div>
  </div>

  <!-- History Panel -->
  <div id="historyPanel" class="side-panel hidden">
    <div class="side-header">
      <h3>Histórico de pesquisas</h3>
      <button id="closeHistory" class="btn ghost">Fechar</button>
    </div>
    <div id="historyList" class="history-list"></div>
  </div>

  <!-- Toast / mensagens rápidas -->
  <div id="toast" class="toast hidden"></div>

  <script defer src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>